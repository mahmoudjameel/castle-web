# دليل PWA على iOS - استكشاف الأخطاء

## 🔍 المشاكل الشائعة على iOS

### 1. **لا يظهر زر "إضافة للشاشة الرئيسية"**
**السبب:** iOS لا يدعم `beforeinstallprompt` event
**الحل:** استخدم زر المشاركة في Safari

### 2. **الإشعارات لا تعمل**
**السبب:** iOS لا يدعم Push API
**الحل:** الإشعارات تعمل فقط عند فتح التطبيق من الشاشة الرئيسية

### 3. **التطبيق لا يفتح كـ PWA**
**السبب:** لم يتم إضافته للشاشة الرئيسية
**الحل:** اتبع خطوات الإضافة

## 📱 خطوات التثبيت على iOS

### الطريقة الأولى: من Safari
1. افتح الموقع في Safari
2. اضغط على زر **شارك** (مربع مع سهم)
3. اختر **أضف إلى الشاشة الرئيسية**
4. اضغط **إضافة**

### الطريقة الثانية: من Chrome
1. افتح الموقع في Chrome
2. اضغط على **القائمة** (ثلاث نقاط)
3. اختر **إضافة إلى الشاشة الرئيسية**
4. اضغط **إضافة**

## ⚠️ قيود iOS

### ما يعمل:
✅ إضافة للشاشة الرئيسية  
✅ فتح كتطبيق منفصل  
✅ الإشعارات عند فتح التطبيق  
✅ التخزين المحلي  
✅ Service Worker (محدود)  

### ما لا يعمل:
❌ Push Notifications (الإشعارات الفورية)  
❌ Background Sync  
❌ Install Prompt التلقائي  
❌ بعض ميزات Service Worker  

## 🛠️ استكشاف الأخطاء

### مشكلة: التطبيق لا يفتح
**الحل:**
- تأكد من إضافته للشاشة الرئيسية
- امسح ذاكرة التخزين المؤقت
- أعد تشغيل الجهاز

### مشكلة: الإشعارات لا تظهر
**الحل:**
- تأكد من تفعيل الإشعارات في إعدادات iOS
- افتح التطبيق من الشاشة الرئيسية
- تحقق من إعدادات Safari

### مشكلة: التطبيق بطيء
**الحل:**
- امسح ذاكرة التخزين المؤقت
- تأكد من اتصال الإنترنت
- أعد تشغيل التطبيق

## 📋 فحص التثبيت

### في Safari:
1. اضغط على زر **شارك**
2. إذا رأيت "أضف إلى الشاشة الرئيسية" = لم يتم التثبيت
3. إذا رأيت "إزالة من الشاشة الرئيسية" = تم التثبيت

### في الإعدادات:
1. اذهب إلى **الإعدادات** > **Safari** > **عام**
2. اختر **إضافة إلى الشاشة الرئيسية**
3. تحقق من وجود التطبيق

## 🎯 نصائح مهمة

1. **استخدم Safari** - أفضل دعم لـ PWA على iOS
2. **أضف للشاشة الرئيسية** - ضروري لـ PWA
3. **افتح من الشاشة الرئيسية** - للحصول على تجربة كاملة
4. **تحقق من الإعدادات** - تأكد من تفعيل الإشعارات
5. **أعد المحاولة** - إذا لم تعمل المرة الأولى

## 🔧 إعدادات متقدمة

### في manifest.json:
```json
{
  "name": "طوق منصة الكاستينج",
  "display": "standalone",
  "orientation": "portrait-primary",
  "theme_color": "#f59e0b",
  "background_color": "#0f172a"
}
```

### في layout.tsx:
```tsx
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="طوق" />
```

## 📞 الدعم

إذا استمرت المشكلة:
1. تحقق من إصدار iOS (يجب أن يكون 11.3+)
2. تأكد من استخدام Safari
3. امسح ذاكرة التخزين المؤقت
4. أعد تشغيل الجهاز
5. جرب على جهاز آخر

---

**ملاحظة:** PWA على iOS محدود مقارنة بـ Android، لكنه يعمل بشكل جيد للتطبيقات الأساسية.

## 🎨 معلومات التطبيق

- **الاسم:** طوق منصة الكاستينج
- **الاسم المختصر:** طوق
- **الأيقونة:** Logo.jpg
- **اللون الأساسي:** #f59e0b (أصفر)
- **الخلفية:** #0f172a (أزرق داكن)
