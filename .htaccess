# Apache .htaccess لدعم رفع الملفات الكبيرة
# ضعه في المجلد الرئيسي للموقع

# ⚠️ مهم: هذا الملف يعمل فقط إذا كان AllowOverride مفعل في إعدادات Apache

<IfModule mod_php.c>
  # إزالة قيود حجم رفع الملفات
  php_value upload_max_filesize 500M
  php_value post_max_size 500M
  php_value memory_limit 512M

  # زيادة وقت التنفيذ للملفات الكبيرة
  php_value max_execution_time 600
  php_value max_input_time 600
</IfModule>

# إزالة حد أقصى لحجم الطلب في Apache
# LimitRequestBody 0 لا يعمل في .htaccess
# يجب تعديله في ملف الإعدادات الرئيسي

# إعدادات الضغط
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>

# إعدادات أمان إضافية
<FilesMatch "\.(php|js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$">
  <IfModule mod_headers.c>
    Header set Cache-Control "max-age=31536000, public"
  </IfModule>
</FilesMatch>

# منع الوصول المباشر للملفات الحساسة
<FilesMatch "\.(env|config|log|sql|backup)$">
  Order deny,allow
  Deny from all
</FilesMatch>

# تفعيل الـ headers للملفات الكبيرة
<IfModule mod_headers.c>
  Header set Connection "keep-alive"
</IfModule>
